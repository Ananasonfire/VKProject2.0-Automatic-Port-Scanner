# ╔════════════════════════════════════════════════════════════════════════════╗
# ║                   PORT SCANNER CONFIGURATION FILE                           ║
# ║                          config.yaml                                        ║
# ╚════════════════════════════════════════════════════════════════════════════╝

# ════════════════════════════════════════════════════════════════════════════════
# СКАНИРОВАНИЕ
# ════════════════════════════════════════════════════════════════════════════════

scan:
  # Диапазоны IP для сканирования
  # Поддерживаются форматы: отдельные IP, CIDR нотация, диапазоны
  targets:
    - "192.168.1.0/24"
    - "8.8.8.8"
    # - "10.0.0.0/8"
    # - "172.16.0.0/12"
  
  # Порты для сканирования
  # Популярные портыHTTP/HTTPS (80, 443), SSH (22), MySQL (3306), PostgreSQL (5432) и т.д.
  ports: [21, 22, 80, 443, 3306, 5432, 6379, 27017, 8080, 8443]
  
  # Скорость сканирования (пакетов в секунду)
  # Рекомендуется: 100-1000 для локальной сети, 10-100 для интернета
  rate: 1000
  
  # Таймаут сканирования (секунды)
  timeout: 300
  
  # Количество потоков для параллельного получения баннеров
  threads: 4


# ════════════════════════════════════════════════════════════════════════════════
# БАЗА ДАННЫХ / ХРАНИЛИЩЕ
# ════════════════════════════════════════════════════════════════════════════════

database:
  # Тип хранилища: "sqlite" или "json"
  # sqlite - более надёжный, быстрый, хорош для больших объёмов
  # json - простой, портативный, хорош для малых проектов
  type: "sqlite"
  
  # Путь к файлу БД/хранилища
  path: "scan_history.db"


# ════════════════════════════════════════════════════════════════════════════════
# ПЕРИОДИЧЕСКОЕ СКАНИРОВАНИЕ
# ════════════════════════════════════════════════════════════════════════════════

schedule:
  # Включить периодическое сканирование
  enabled: true
  
  # Cron выражение для расписания
  # Формат: minute hour day month day_of_week
  # Примеры:
  #   "0 */4 * * *"   - каждые 4 часа
  #   "0 * * * *"     - каждый час
  #   "0 0 * * *"     - каждый день в полночь
  #   "*/30 * * * *"   - каждые 30 минут
  #   "0 0 * * 0"     - каждое воскресенье в полночь
  cron: "0 */4 * * *"


# ════════════════════════════════════════════════════════════════════════════════
# СИСТЕМА УВЕДОМЛЕНИЙ
# ════════════════════════════════════════════════════════════════════════════════

notifications:
  # ──────────────────────────────────────────────────────────────────────────────
  # TELEGRAM
  # ──────────────────────────────────────────────────────────────────────────────
  telegram:
    enabled: true
    
    # Bot API Token от @BotFather
    # Получить: чат с @BotFather в Telegram -> /newbot
    token: "YOUR_BOT_TOKEN_HERE"
    
    # Chat ID для получения уведомлений
    # Получить: добавить бота в чат -> @userinfobot -> получить chat_id
    chat_id: "YOUR_CHAT_ID_HERE"
  
  # ──────────────────────────────────────────────────────────────────────────────
  # EMAIL
  # ──────────────────────────────────────────────────────────────────────────────
  email:
    enabled: false
    
    # SMTP параметры
    # Gmail: smtp.gmail.com:587
    # Yandex: smtp.yandex.ru:587
    # Outlook: smtp-mail.outlook.com:587
    smtp_server: "smtp.gmail.com"
    smtp_port: 587
    
    # Email отправителя
    sender_email: "your_email@gmail.com"
    
    # Пароль или App Password (для Gmail - создать в myaccount.google.com/apppasswords)
    sender_password: "your_app_password"
    
    # Email получателя
    recipient: "recipient@example.com"
  
  # ──────────────────────────────────────────────────────────────────────────────
  # DISCORD
  # ──────────────────────────────────────────────────────────────────────────────
  discord:
    enabled: false
    
    # Discord Webhook URL
    # Получить: Right-click channel -> Edit channel -> Integrations -> Webhooks
    webhook_url: "https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN"


# ════════════════════════════════════════════════════════════════════════════════
# ПРОВЕРКА CVE (Уязвимостей)
# ════════════════════════════════════════════════════════════════════════════════

cve_check:
  # Включить проверку CVE через Vulners API
  enabled: false
  
  # API ключ Vulners
  # Получить: https://vulners.com/register -> API Key
  api_key: "VULNERS_API_KEY_HERE"


# ════════════════════════════════════════════════════════════════════════════════
# ВЕБ-ДАШБОРД
# ════════════════════════════════════════════════════════════════════════════════

dashboard:
  # Включить веб-дашборд для мониторинга
  enabled: true
  
  # Адрес хоста (127.0.0.1 - только локально, 0.0.0.0 - для всех)
  host: "127.0.0.1"
  
  # Порт для доступа
  # Перейти на: http://127.0.0.1:5000
  port: 5000
  
  # Режим отладки (false для production)
  debug: false


# ════════════════════════════════════════════════════════════════════════════════
# ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ
# ════════════════════════════════════════════════════════════════════════════════

# Локальная сеть (быстрое сканирование):
# scan:
#   targets:
#     - "192.168.1.0/24"
#     - "192.168.2.0/24"
#   rate: 5000

# Интернет (медленное, осторожное сканирование):
# scan:
#   targets:
#     - "1.1.1.0/24"
#   rate: 100
#   timeout: 600

# Большое сканирование с расписанием:
# schedule:
#   cron: "0 2 * * *"  # 2 часа ночи каждый день

# Все уведомления включены:
# notifications:
#   telegram:
#     enabled: true
#   email:
#     enabled: true
#   discord:
#     enabled: true
